<!DOCTYPE html>
<html>
  <head>
    <title>App</title>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
  </head>
  <body>
    <h1>hogehoge</h1>
    <div id="app"></div>

    <!-- contractとのinteraction -->
    <script>
      //providerをセット
      if (typeof web3 !== 'undefined') {
        web3js = new Web3(web3.currentProvider);
      } else {          
        web3js = new Web3(new web3.providers.HttpProvider('http://localhost:7545'));
      }
      
      //abiとaddressからcontractをセット      
      abiVoting = [
        {
          "constant": true,
          "inputs": [
            {
              "name": "_num",
              "type": "uint256"
            }
          ],
          "name": "add",
          "outputs": [
            {
              "name": "",
              "type": "uint256"
            }
          ],
          "payable": false,
          "stateMutability": "pure",
          "type": "function"
        },
        {
          "constant": false,
          "inputs": [],
          "name": "newOption",
          "outputs": [
            {
              "name": "",
              "type": "uint256"
            }
          ],
          "payable": false,
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "constant": true,
          "inputs": [
            {
              "name": "",
              "type": "uint256"
            }
          ],
          "name": "options",
          "outputs": [
            {
              "name": "id",
              "type": "uint256"
            },
            {
              "name": "point",
              "type": "uint8"
            }
          ],
          "payable": false,
          "stateMutability": "view",
          "type": "function"
        }
      ];
      addressVoting = "0x345ca3e014aaf5dca488057592ee47305d9b3e10";
      Voting = web3js.eth.contract(abiVoting).at(addressVoting);
      console.log(Voting);
      Voting.options(0, function(err, result) {
        if (!err) {
          console.log(result);
        } else {
          console.log(err);
        }
      })
      Voting.newOption(function(error, result) {
        if (!error) {
          console.log(result);
        } else {
          console.log(error);
        }
      });
    </script>
    <script src="bundle.js"></script>
  </body>
</html>